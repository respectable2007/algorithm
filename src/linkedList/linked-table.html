<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>模拟链表</title>
</head>
<body>
<script type="text/javascript">
  // JS实现链表
  function linkedList() {
    let Node = function(element) {
      this.node = element;
      this.next = null;
    },length = 0,head = null;
    this.append = function(element) {// 向列表尾部添加一个新的项
      let node = new Node(element),
          cur = null;
      if(head) {
        cur = head;
        while(cur.next) {
          cur = cur.next;
        }
        cur.next = node;
      } else {
        head = node;
      }
      length ++;
    }
    this.insert = function(position, element) {// 向列表的特定位置插入一个新的项
      if(position >= 0 && position <= length) {
        let node = new Node(element),
            cur = head,
            index = 0,
            pre = null;
        if(position === 0) {
          head = node;
          node.next = cur;
        } else {
          while(index ++ < position) {
            pre = cur;
            cur = cur.next;
          }
          pre.next = node;
          node.next = cur;
        }
        length ++;
        return true;
      } else {
        return false;
      }
    }
    this.remove = function(element) {// 从列表中移除一个项
      let index = this.indexOf(element);
      return this.removeAt(index);
    }
    this.indexOf = function(element) {// 返回元素在列表中的索引，若不存在，则返回-1
      let cur = head,
          index = 0;
      while(cur) {
        if(cur.node === element) {
          return index;
        }
        index ++;
        cur = cur.next;
      }
      return -1;
    }
    this.removeAt = function(position) {// 从列表的特定位置移除一项
      if(position >= 0 && position <= length) {
        let cur = head,
            index = 0,
            prev = null;
        if(position === 0) {
          head = cur.next;
        } else {
          while(index ++ < position) {
            prev = cur;
            cur = cur.next;
          }
          prev.next = cur.next;
        }
        length --;
        return cur;
      } else {
        return null;
      }
    }
    this.isEmpty = function() {// 链表是否为空，若为空，返回true
      return !length;
    }
    this.size = function() {// 返回链表包含的元素个数
      return length;
    }
    this.toString = function() {// 转为字符串形式
      let cur = head,
          index = 0,
          arr = [];
      while(index ++ <= length) {
        if(cur !== null) {
          arr.push(cur.node.toString());
        }
        cur = cur.next;
      }
      return arr.join(' ');
    }
  }
	// 两个数组，一个存储真实数据，一个存储右侧数据在前个数组中的位置
 var data = [1,2,3,5,8,9,10,18,26,32],
     right = [1,2,3,4,5,6,7,8,9,-1],
     len = 9,
     add = 6,
     t = 0;
     len ++;
     data[len] = add;
 while(t != -1) {
 	/*在右侧数组中，寻找插入数的位置*/
   if (data[right[t]] > data[len]) {
   	right[len] = right[t];
    right[t] = len;
    break;
   }
   /*跳出循环*/
   t = right[t];
 }
 t = 0;
 while(t != -1) {
 	/*当前项*/
   console.log(data[t]);
   /*下一项位置*/
   t = right[t];
 }
</script>
</body>
</html>